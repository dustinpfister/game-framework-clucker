(function(Clucker){

try{utils=Clucker?Clucker.utils={}:{}}catch(e){var utils={}}utils.noop=function(){},utils.distance=function(e,t,a,n){return Math.sqrt(Math.pow(e-a,2)+Math.pow(t-n,2))},utils.boundingBox=function(e,t,a,n,o,r,i,c){return!(t+n<r||r+c<t||e+a<o||o+i<e)},utils.mod=function(e,t){return(e%t+t)%t},utils.formatNumber=function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)},utils.valueByRange=function(e,t,a){return e=void 0===e?0:e,a=void 0===a?1:a,(t=void 0===t?0:t)+Math.round(e*(a-t))},utils.wrapText=function(e,t){t=new RegExp(`(?![^\\n]{1,${t}}$)([^\\n]{1,${t}})\\s`,"g");return e.replace(t,"$1\n").split("\n")},utils.http=function(e){(e=e||{}).url=e.url||"",e.method=e.method||"GET",e.async=void 0===e.async||e.async,e.body=void 0===e.body?null:e.body,e.onDone=e.onDone||utils.noop,e.onError=e.onError||utils.noop,e.responseType=e.responseType||"";var t=new XMLHttpRequest;t.responseType=e.responseType,t.open(e.method,e.url,e.async),t.onreadystatechange=function(){4===t.readyState&&(200<=t.status&&t.status<400?e.onDone.call(t,t.response,t):e.onError.call(t,t))},t.send(e.body)},utils.httpPNG=function(n){(n=n||{}).onDone=n.onDone||utils.noop,n.onError=n.onError||utils.noop,utils.http({url:n.url,responseType:"blob",onDone:function(e,t){var e=window.URL.createObjectURL(e),a=new Image;a.src=e,a.addEventListener("load",function(){n.onDone.call(t,a,t)})},onError:n.onError})},utils.XP=function(){function r(e,t){return t=void 0===t?i:t,(Math.pow(e,2)-e)*t/2}function n(e,t,a){var n=t<(n=(o=void 0===(o=a)?i:o,(1+Math.sqrt(1+8*e/o))/2))?t:n,o=Math.floor(n),a=r(o+1,a);return{level:o,levelFrac:n,per:n%1,xp:e,forNext:n===t?1/0:a,toNext:n===t?1/0:a-e}}var i=50;return{parseByLevel:function(e,t,a){return n(r(e,a),t,a)},parseByXP:n}}(),utils.log=function(e){console.log(e)},utils.logFor=function(e,t,a){(a=a||{}).log=a.log||utils.log,t&&a.log(e)},utils.logOnce=function(){var a=0;return function(e,t){(t=t||{}).log=t.log||utils.log,t.maxCount=void 0===t.maxCount?1:t.maxCount,t.resetCount=void 0!==t.resetCount&&t.resetCount,(a=t.resetCount?0:a)<t.maxCount&&(t.log(e),a+=1)}}(),utils.deepClone=function(){function r(e,t,a){return e}function i(e,t,a){return t[a]}var c={Date:function(e,t){return new Date(e.getTime())},Array:function(e,t){e=utils.deepClone(e);return e.length=Object.keys(e).length,Array.from(e)},Object:function(e,t){return utils.deepClone(e)}};return function(e,t){var a,n,o={};for(n in(t=t||{}).forInstance=t.forInstance||{},t.forRecursive=t.forRecursive||r,t.forUnsupported=t.forUnsupported||i,e)"object"==typeof e[n]&&null!=e[n]?e[n]===e?o[n]=t.forRecursive(o,e,n):(a=e[n].constructor.name,a=t.forInstance[a]||c[a],o[n]=a?a(e[n],n):t.forUnsupported(o,e,n)):o[n]=e[n];return o}}(),utils.traverse=function(e,t,a){for(var n in a=a||1,e)t.call(e[n],e[n],n,typeof e[n],a,e),"object"==typeof e[n]&&null!=e[n]&&(nextLevel=a+1,utils.traverse(e[n],t,nextLevel));return null};var canvasMod,poolMod=function(){var r={};return r.create=function(e){(e=e||{}).count=e.count||10;for(var t=0,a={objects:[],secsCap:void 0===e.secsCap?1/0:e.secsCap,disableLifespan:e.disableLifespan||!1,data:e.data||{},spawn:e.spawn||function(e,t,a,n){},purge:e.purge||function(e,t,a){},update:e.update||function(e,t,a,n){}};t<e.count;)a.objects.push({active:!1,i:t,x:void 0===e.x?0:e.x,y:void 0===e.y?0:e.y,w:void 0===e.w?32:e.w,h:void 0===e.h?32:e.h,heading:void 0===e.heading?0:e.heading,pps:void 0===e.pps?32:e.pps,lifespan:e.lifespan||3,data:{}}),t+=1;return a},r.spawn=function(e,t,a){var n=function(e){for(var t,a=e.objects.length;a--;)if(!(t=e.objects[a]).active)return t;return!1}(e);return t=t||{},a=a||{},!(!n||n.active)&&(n.active=!0,e.spawn.call(e,n,e,t,a),n)},r.spawnAll=function(t,a,n){return t.objects.forEach(function(e){if(!e.active)return e.active=!0,t.spawn.call(t,e,t,a,n),e}),t.objects},r.purge=function(e,t,a){t.active=!1,e.purge.call(e,t,e,a)},r.update=function(e,t,a){var n,o=e.objects.length;for(a=a||{},t=t>e.secsCap?e.secsCap:t;o--;)(n=e.objects[o]).active&&(e.update.call(e,n,e,a,t),e.disableLifespan||(n.lifespan-=t,n.lifespan=n.lifespan<0?0:n.lifespan,0===n.lifespan&&(n.active=!1,r.purge.call(e,e,n,a))))},r.setActiveStateForAll=function(e,t){t=void 0!==t&&t;for(var a=e.objects.length;a--;)e.objects[a].active=t},r.moveByPPS=function(e,t){e.x+=Math.cos(e.heading)*e.pps*t,e.y+=Math.sin(e.heading)*e.pps*t},r.checkBounds=function(e,t){return!(e.x>=t.width||e.x<-1*e.w||e.y>t.height||e.y<-1*e.h)},r.boundingBox=function(e,t){return utils.boundingBox(e.x,e.y,e.w,e.h,t.x,t.y,t.w,t.h)},r.wrap=function(e,t,a){utils.boundingBox(e.x,e.y,e.w,e.h,-1*(a=void 0===a?32:a),-1*a,(t=t||{x:0,y:0,width:640,height:480}).width+a,t.height+a)||(e.x=utils.mod(e.x+a,t.width+2*a)-a,e.y=utils.mod(e.y+a,t.height+2*a)-a)},r.getOverlaping=function(e,t){var a,n=0,o=[];if(len=t.objects.length,e.active)for(;n<len;)e!=(a=t.objects[n])&&a.active&&utils.boundingBox(e.x,e.y,e.w,e.h,a.x,a.y,a.w,a.h)&&o.push(a),n+=1;return o},r.getActiveCount=function(e){return e.objects.reduce(function(e,t){return t.active?e+1:e},0)},r.getActiveObjects=function(e){return e.objects.reduce(function(e,t){return t.active&&e.push(t),e},[])},r.getDistanceToObj=function(e,t){var a=t.x+t.w/2,n=t.y+t.h/2,t=e.x+e.w/2,e=e.y+e.h/2;return Clucker.utils.distance(a,n,t,e)},r}();try{Clucker&&(Clucker.poolMod=poolMod)}catch(e){}!function(n){var r={},e=r.drawMethods={};e.clear=function(e,t,a,n){t.clearRect(-2,-2,a.width+2,a.height+2)},e.background=function(e,t,a,n,o){e=o||e.background||"black";"string"==typeof e&&(t.fillStyle=e,t.fillRect(-2,-2,a.width+2,a.height+2)),"object"==typeof e&&t.drawImage(e,-1,-1,a.width+2,a.height+2)},e.print=function(e,t,a,n,o,r,i,c){(c=c||{}).fontSize=c.fontSize||10,t.fillStyle=c.fillStyle||"black",t.textBaseline=c.baseLine||"top",t.textAlign=c.align||"left",t.font=c.fontSize+"px arial",t.fillText(o,r,i)},e.cell=function(e,t,a,n,o,r,i){o=e.spriteSheets[o],r=o.cells[r];t.drawImage(o.image,r.x,r.y,r.w,r.h,i.x,i.y,i.w,i.h)},e.points=function(e,s,t,a,n,o,r,l){l=l||{},s.save(),s.translate(o,r),n.forEach(function(e){var t,a=e.length,n=void 0===l.close||l.close,o=void 0===l.fill?"black":l.fill,r=void 0===l.stroke?"white":l.stroke,i=void 0===l.lineWidth?3:l.lineWidth,c=2;for(s.beginPath(),s.moveTo(e[0],e[1]);c<a;)"number"==typeof(t=e[c])?(s.lineTo(t,e[c+1]),c+=2):("close"===(t=t.split(":"))[0]&&(n="true"===t[1]),"stroke"===t[0]&&(r=t[1]||!1),"fill"===t[0]&&(o=t[1]||!1),"lineWidth"===t[0]&&(i=t[1]||1),c+=1);s.lineWidth=i,n&&s.closePath(),o&&(s.fillStyle=o,s.fill()),r&&(s.strokeStyle=r,s.stroke())}),s.restore()};var o=r.pointsMethods={};o.box=function(e,t,a,n,o){t-=n/4,a-=o/4;return[[t,a,t+n/2,a,t+n/2,a+o/2,t,a+o/2]]};function i(e){var n,o,r,t=(o=(n=e).state,r=e.events,function(e){var t=c(e),a=null;e.preventDefault(),"mousedown"!==e.type&&"touchstart"!==e.type||(a=r.pointerStart),"mousemove"!==e.type&&"touchmove"!==e.type||(a=r.pointerMove),(a="mouseup"===e.type||"touchend"===e.type?r.pointerEnd:a)&&a.call(o,e,t,o,n)}),a=e[e.length-1].canvas,e={passive:!1};a.addEventListener("mousedown",t,e),a.addEventListener("mousemove",t,e),a.addEventListener("mouseup",t,e),a.addEventListener("touchstart",t,e),a.addEventListener("touchmove",t,e),a.addEventListener("touchend",t,e)}var c=function(e){var t=e.target,a=t.getBoundingClientRect(),a={x:(e.changedTouches?e.changedTouches[0]:e).clientX-a.left,y:(e.changedTouches?e.changedTouches[0]:e).clientY-a.top,bx:a};return a.x=Math.floor(a.x/t.scrollWidth*t.width),a.y=Math.floor(a.y/t.scrollHeight*t.height),a};n.createLayerStack=function(e){var t={length:void 0===(e=e||{}).length?2:e.length,container:e.container||document.getElementById("canvas-app")||document.body,events:e.events||{},state:e.state||{},background:e.background||"blue",images:[],spriteSheets:{}};"string"==typeof t.container&&(t.container=document.querySelector(t.container));for(var a={container:t.container,append:!0,width:e.width||320,height:e.height||240,layerClassName:e.layerClassName||"canvas_layer"},n=0;n<t.length;)t[n]=function(e){(e=e||{}).append=void 0===e.append||e.append;var t={};return t.container=e.container||document.getElementById("canvas-app")||document.body,"string"==typeof t.container&&(t.container=document.querySelector(t.container)),t.canvas=document.createElement("canvas"),t.ctx=t.canvas.getContext("2d"),t.canvas.className=e.layerClassName||"",t.canvas.width=void 0===e.width?320:e.width,t.canvas.height=void 0===e.height?240:e.height,t.ctx.translate(.5,.5),t.canvas.onselectstart=function(){return!1},e.append&&t.container.appendChild(t.canvas),t}(a),t[n].i=n,n+=1;return i(t),t},n.draw=function(e,t,a){var n=e[a],o=[e,n.ctx,n.canvas,n],n=[];3<arguments.length&&(n=Array.prototype.slice.call(arguments,3,arguments.length)),r.drawMethods[t].apply(e,o.concat(n))},n.createPoints=function(e,t){var a=[e],n=Array.prototype.slice.call(arguments,2,arguments.length);return o[t].apply(e,a.concat(n))},n.load=function(e){Object.keys(e).forEach(function(t){e[t].forEach(function(e){r[t][e.name]=e.method})})},n.createSpriteSheet=function(e,t,a,n){var o={name:t,imageIndices:null,cells:[]};"number"==typeof a&&(o.imageIndices=[],o.imageIndices.push(a)),"object"==typeof a&&(o.imageIndices=a),"object"==typeof n&&(o.cells=n),"function"==typeof n&&(o.cells=n.call(e,o.imageIndices,o,e)),e.spriteSheets[t]=o},n.createSpriteSheetGrid=function(e,t,a,l,u){l=void 0===l?32:l,u=void 0===u?32:u,n.createSpriteSheet(e,t,a,function(e,t,a){for(var n,o,e=a.images[e[0]],r=Math.floor(e.width/l),i=r*Math.floor(e.height/u),c=0,s=[];c<i;)n=c%r,o=Math.floor(c/r),s.push({x:l*n,y:u*o,w:l,h:u}),c+=1;return s})}}(void 0===this.Clucker?this.canvasMod={}:Clucker.canvasMod={});try{Clucker&&(canvasMod=Clucker.canvasMod)}catch(e){}canvasMod.load({pointsMethods:[{name:"circle",method:function(e,t,a,n,o){return canvasMod.createPoints(e,"oval",t,a,n,n,o=void 0===o?100:o)}},{name:"oval",method:function(e,t,a,n,o,r){r=void 0===r?100:r;for(var i,c,s=[[]],l=0;l<r;)c=2*Math.PI/r*l,i=t+Math.cos(c)*n,c=a+Math.sin(c)*o,s[0].push(i,c),l+=1;return s}}]}),canvasMod.load({drawMethods:[{name:"solid",method:function(e,t,a,n,o,r){t.fillStyle=r.fillStyle||o.data.fillStyle||"white",t.strokeStyle=r.strokeStyle||o.data.strokeStyle||"black",(o.active||r.drawAll)&&(t.beginPath(),t.rect(o.x,o.y,o.w,o.h),t.fill(),t.stroke())}},{name:"circle",method:function(e,t,a,n,o,r){t.fillStyle=r.fillStyle||o.data.fillStyle||"white",t.strokeStyle=r.strokeStyle||o.data.strokeStyle||"black",(o.active||r.drawAll)&&(t.beginPath(),t.arc(o.x+o.w/2,o.y+o.h/2,(o.w+o.h)/2/2,0,2*Math.PI),t.fill(),t.stroke())}},{name:"pool",method:function(e,t,a,n,o,r){canvasMod.draw(e,"pool-imgd",n.i,o,r)}},{name:"pool-solid",method:function(t,e,a,n,o,r){r=r||{},o.objects.forEach(function(e){canvasMod.draw(t,"solid",n.i,e,r)})}},{name:"pool-circles",method:function(t,e,a,n,o,r){r=r||{},o.objects.forEach(function(e){canvasMod.draw(t,"circle",n.i,e,r)})}},{name:"pool-imgd",method:function(e,n,t,a,o,r){r=r||{},o.objects.forEach(function(e){var t=r.image||e.data.image||!1,a=r.imgD||e.data.imgD||{};n.fillStyle=r.fillStyle||e.data.fillStyle||"white",n.strokeStyle=r.strokeStyle||e.data.strokeStyle||"black",(e.active||r.drawAll)&&(t?n.drawImage(t,a.x,a.y,a.w,a.h,e.x,e.y,e.w,e.h):(n.beginPath(),n.rect(e.x,e.y,e.w,e.h),n.fill(),n.stroke()))})}},{name:"sprite",method:function(e,t,a,n,o,r){var i=(r=r||{}).sheetKey||o.data.sheetKey||"default",c=r.spriteDraw||o.data.spriteDraw||!1,s=0;0<=o.data.cellIndex&&(s=o.data.cellIndex),0<=r.cellIndex&&(s=r.cellIndex),t.globalAlpha=void 0===o.data.alpha?1:o.data.alpha;var l=e.spriteSheets[i];l?(o.active||r.drawAll)&&(i=void 0===o.data.imageIndex?0:o.data.imageIndex,i=e.images[l.imageIndices[i]],s=l.cells[s],t.drawImage(i,s.x,s.y,s.w,s.h,o.x,o.y,o.w,o.h)):canvasMod.draw(e,"solid",n.i,o,r),c&&c(o,n.ctx,n.canvas,n)}},{name:"pool-sprite",method:function(t,e,a,n,o,r){r=r||{},o.objects.forEach(function(e){canvasMod.draw(t,"sprite",n.i,e,r)}),e.globalAlpha=1}}]}),canvasMod.load({drawMethods:[{name:"button",method:function(e,t,a,n,o){var r,i;null!=o.imageIndex?(r=e.images[o.imageIndex],i=o.imageStats||{x:0,y:0,w:32,h:32},t.drawImage(r,i.x,i.y,i.w,i.h,o.x,o.y,o.w,o.h)):(t.fillStyle="red",t.strokeStyle="black",t.beginPath(),t.rect(o.x,o.y,o.w,o.h),t.fill(),t.stroke());var c,s,t={align:"center",baseLine:"middle",fontSize:o.descSize||10};o.minor?(c=o.x+o.w/2,s=o.y+o.h/3,canvasMod.draw(e,"print",n.i,o.desc,c,s,t),s+=o.h/3,t.fontSize=o.minorSize||10,canvasMod.draw(e,"print",n.i,o.minor,c,s,t)):(c=o.x+o.w/2,s=o.y+o.h/2,canvasMod.draw(e,"print",n.i,o.desc,c,s,t))}},{name:"stateButtons",method:function(t,e,a,n,o){var r=o.states[o.currentState];Object.keys(r.buttons).forEach(function(e){e=r.buttons[e];canvasMod.draw(t,"button",n.i,e)})}}]}),function(t){t.createToStateButton=function(o,e,t,a,n,r){return{x:void 0===e?0:e,y:void 0===t?0:t,w:void 0===n?64:n,h:void 0===r?64:r,desc:a||"Back",onClick:function(e,t,a,n){Clucker.gameFrame.smSetState(a,o)}}},t.smCreateMin=function(e){return{currentState:(e=e||{}).currentState||"",data:{},stateObj:{},states:e.states||{},events:e.events||{}}};function n(e,t,a,n){var o,r=n.states[n.currentState];r&&(o=r.events[e])&&o.call(n,t,a,n)}function o(e){e.currentState="loader",Clucker.gameFrame.smPushState(e,{name:"loader",start:function(e){e.states.loader.data.loaded=0,canvasMod.draw(e.layers,"background",0,"#101010"),e.images=[];var n=e.layers.images=[];e.loader;if(e.loader.images)for(var t=0;t<e.loader.images.count;)!function(a){utils.httpPNG({url:e.loader.images.baseURL+"/"+a+".png",onDone:function(e,t){n[a]=e},onError:function(){console.log("error"),n[a]=new Image}})}(t),t+=1},end:function(e){canvasMod.draw(e.layers,"clear",0),canvasMod.draw(e.layers,"clear",1)},update:function(e,t){(e.states.loader.data.loaded=e.layers.images.reduce(function(e,t){return void 0===t?e:e+1},0))===e.loader.images.count&&Clucker.gameFrame.smSetState(e,e.loader.startState||"game")},draw:function(e,t){var a=t[1].ctx,n=t[1].canvas,o=n.width/2,r=n.height/2,i=e.states.loader.data.loaded,n={x:.25*n.width,y:r-10,w:.5*n.width,h:10,per:i/e.loader.images.count};canvasMod.draw(t,"clear",1),e.loader.images&&(a.strokeStyle="black",a.beginPath(),a.fillStyle="#2a2a2a",a.rect(n.x,n.y,n.w,n.h),a.fill(),a.beginPath(),a.fillStyle="white",a.rect(n.x,n.y,n.w*n.per,n.h),a.fill(),a.stroke(),canvasMod.draw(t,"print",1,i+" / "+e.loader.images.count,o,15+r,{align:"center",fontSize:30,fillStyle:"#afafaf"}))}})}t.smCreateMain=function(e){var a=t.smCreateMin(e=e||{});return a.ver=e.ver||"",a.appName=e.appName||"",a.game=e.game||{},a.fps=void 0===e.fps?30:e.fps,a.loader=e.loader||{},a.images=[],a.events=e.events||{pointerStart:function(e,t,a){!function(e,t,a){for(var n,o=a.states[a.currentState],r=Object.keys(o.buttons),i=0,c=r.length;i<c;)n=o.buttons[r[i]],utils.boundingBox(n.x,n.y,n.w,n.h,t.x,t.y,1,1)&&n.onClick.call(a,e,t,a,n),i+=1}(e,t,a),n("pointerStart",e,t,a)},pointerMove:function(e,t,a){n("pointerMove",e,t,a)},pointerEnd:function(e,t,a){n("pointerEnd",e,t,a)}},a.layers=canvasMod.createLayerStack({length:void 0===e.canvasLayers?3:e.canvasLayers,container:e.canvasContainer||document.getElementById("canvas-app")||document.body,events:a.events,state:a,width:e.width,height:e.height,layerClassName:e.layerClassName}),a.debugMode=e.debugMode||!1,a.secs=0,a.stopLoop=!1,a.lt=new Date,a.loader.images&&o(a),a.loop=function(){var e,t=new Date;a.secs=(t-a.lt)/1e3,a.secs>=1/a.fps&&((e=a.stateObj.update)&&e.call(a,a,a.secs),(e=a.stateObj.draw)&&e.call(a,a,a.layers,canvasMod),a.lt=t),a.stopLoop||requestAnimationFrame(a.loop)},a.currentState&&(a.stateObj=a.states[a.currentState]),a},t.smPushState=function(e,t){var a={name:t.name||"state_"+Object.keys(e.states).length,data:t.data||{}};return a.buttons=t.buttons||{},a.start=t.start||function(){},a.end=t.end||function(){},a.update=t.update||function(){},a.draw=t.draw||function(){},a.events=t.events||{},e.states[a.name]=a},t.smSetState=function(e,t){var a=e.states[e.currentState];!a||(a=a.end)&&a.call(e,e),e.currentState=t;t=(t=e.stateObj=e.states[e.currentState]).start;t&&t.call(e,e,canvasMod)},t.start=function(e,t){e.stopLoop=!1,Clucker.setState(e,t||e.currentState),e.loop()},t.stop=function(e){e.stopLoop=!0}}(void 0===this.Clucker?this.gameFrame={}:Clucker.gameFrame={}),this.Clucker&&(Clucker.createMain=function(e){return Clucker.gameFrame.smCreateMain(e)},Clucker.pushState=function(e,t){return Clucker.gameFrame.smPushState(e,t)},Clucker.setState=function(e,t){return Clucker.gameFrame.smSetState(e,t)},Clucker.start=function(e,t){return Clucker.gameFrame.start(e,t)},Clucker.stop=function(e,t){return Clucker.gameFrame.stop(e,t)}),function(i){function c(e){var t="$"+e.levelObj.forNext;return"("+e.levelObj.level+") "+t}var s=function(e,t){for(var a=t.split("."),n=e;0<a.length;)n=n[a.shift()];return n};i.applyUpgradesToState=function(t,e){var a=s(t,e.upgradesPath);Object.keys(a).forEach(function(e){e=a[e];e.applyToState.call(t,t,e,e.levelObj.level)})};function r(e,o,n){var r=e.states[o.upgradeStateKey];Object.keys(n).forEach(function(e,t){var a=n[e];r.buttons["upgrade_"+e]={x:32,y:128+72*t,w:256,h:64,upgradeKey:e,desc:a.desc,minor:c(a),descSize:20,onClick:function(e,t,a,n){!function(e,t,a){console.log("buying upgrade");var n=s(e,t.upgradesPath)[a];t.onBuyUpgrade(e,n)&&(a=n.levelObj.level+1,n.levelObj=Clucker.utils.XP.parseByLevel(a,n.cap,n.deltaNext),i.applyUpgradesToState(e,t))}(a,o,n.upgradeKey),n.minor=c(a.game.upgrades[n.upgradeKey])}}})}i.createState=function(e,n){(n=n||{}).buttonLayer=n.buttonLayer||2,n.upgradeStateKey=n.upgradeStateKey||"upgrades",n.gameStateKey=n.gameStateKey||"game",n.menuStateKey=n.menuStateKey||"menu",n.update=n.update||function(){},n.upgradesPath=n.upgradesPath||"game.upgrades",n.onBuyUpgrade=n.onBuyUpgrade||function(e,t){return!0};var o=e.layers[0].canvas.width;e.layers[0].canvas.height;return{name:n.upgradeStateKey,buttons:{},start:function(e,t){var a=e.stateObj.buttons={};a.to_game=Clucker.gameFrame.createToStateButton(n.gameStateKey,o-64-16,16,"Game"),a.game=Clucker.gameFrame.createToStateButton(n.menuStateKey,16,16,"Back");a=s(e,n.upgradesPath);r(e,n,a)},update:function(e,t){n.update(e,t)},draw:function(e,t,a){a.draw(t,"clear",n.buttonLayer),a.draw(t,"stateButtons",n.buttonLayer,e)}}}}(void 0===this.Clucker?this.upgrades={}:Clucker.upgrades={}),function(e){function n(){if(localStorage){localStorage.setItem("ws-test",JSON.stringify({value:"foo"}));var e=localStorage.getItem("ws-test");if(e){try{var t=JSON.parse(e)}catch(e){return}t="foo"===t.value;return localStorage.removeItem("ws-test"),t}}}e.test=function(e){return(e=e||{}).onDisabled=e.onDisabled||function(){},!!n()||(e.onDisabled.call(e,e,"ws-test"),!1)},e.get=function(e,t){if((t=t||{}).onDisabled=t.onDisabled||function(){},n()){var a=localStorage.getItem(e);if(!a)return"";try{return JSON.parse(a)}catch(e){return a}}else t.onDisabled.call(t,t,e)},e.set=function(e,t,a){(a=a||{}).onDisabled=a.onDisabled||function(){},n()?("object"==typeof t&&(t=JSON.stringify(t)),localStorage.setItem(e,t)):a.onDisabled.call(a,a,e)}}(void 0===this.Clucker?this.storage={}:Clucker.storage={});
}(this['Clucker'] = {ver:'0.7.1'}));